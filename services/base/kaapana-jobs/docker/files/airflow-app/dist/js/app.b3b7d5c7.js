(function(t){function e(e){for(var a,i,o=e[0],u=e[1],c=e[2],l=0,f=[];l<o.length;l++)i=o[l],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(t[a]=u[a]);d&&d(e);while(f.length)f.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,i=1;i<n.length;i++){var u=n[i];0!==r[u]&&(a=!1)}a&&(s.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},r={app:0},s=[];function i(t){return o.p+"js/"+({about:"about"}[t]||t)+"."+{about:"a4dd9065"}[t]+".js"}function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(t){var e=[],n=r[t];if(0!==n)if(n)e.push(n[2]);else{var a=new Promise((function(e,a){n=r[t]=[e,a]}));e.push(n[2]=a);var s,u=document.createElement("script");u.charset="utf-8",u.timeout=120,o.nc&&u.setAttribute("nonce",o.nc),u.src=i(t);var c=new Error;s=function(e){u.onerror=u.onload=null,clearTimeout(l);var n=r[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",c.name="ChunkLoadError",c.type=a,c.request=s,n[1](c)}r[t]=void 0}};var l=setTimeout((function(){s({type:"timeout",target:u})}),12e4);u.onerror=u.onload=s,document.head.appendChild(u)}return Promise.all(e)},o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/",o.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=e,u=u.slice();for(var l=0;l<u.length;l++)e(u[l]);var d=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=n("5f5b"),s=n("b1e0");n("ab8b"),n("2dd8");a["default"].use(r["b"]);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Home")},o=[],u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",[n("dataTable")],1)},c=[],l=(n("fb6a"),n("d3b7"),n("96cf"),n("1da1")),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-table-simple",{staticClass:"table table-dark"},[n("b-thead",[n("b-th",[n("b-icon",{attrs:{icon:"info-circle",scale:"1",variant:"info",title:"Use this toggle to pause a DAG.\n                The scheduler won't schedule new tasks instances\n                for a paused DAG. Tasks already running at pause time won't be affected."}})],1),n("b-th",[t._v("Dag_Id")]),n("b-th",[t._v(" Last Run "),n("b-icon",{attrs:{icon:"info-circle",scale:"1",variant:"info",title:"Execution Date/Time of Highest Dag Run."}})],1),n("b-th",[t._v("DAG Runs")])],1),n("tbody",t._l(t.dags,(function(e){return n("b-tr",{key:e.dag_id},[n("b-td",[n("b-form-checkbox",{attrs:{switch:"",checked:e.is_active}})],1),n("b-td",[n("a",{attrs:{href:"https://e230-pc07/flow/admin/airflow/graph?dag_id="+e.dag_id+"&execution_date="+new Date(e.last_scheduler_run).toISOString()}},[t._v(" "+t._s(e.dag_id)+" ")])]),t.getLastDagRunOfDag(e.dag_id)?n("b-td",[t._v(" "+t._s(new Date(t.getLastDagRunOfDag(e.dag_id).execution_time).toISOString())+" "),"success"==t.getLastDagRunOfDag(e.dag_id).state?n("b-button",{staticStyle:{"margin-left":"3px"},attrs:{variant:"outline-success"}},[t._v(" "+t._s(t.getLastDagRunOfDag(e.dag_id).state)+" ")]):t._e(),"failed"==t.getLastDagRunOfDag(e.dag_id).state?n("a",{attrs:{href:"https://e230-pc07/flow/admin/airflow/log?task_id="+t.getLastDagRunOfDag(e.dag_id).failed_task_id+"&dag_id="+e.dag_id+"&execution_date="+encodeURI(new Date(t.getLastDagRunOfDag(e.dag_id).execution_time).toISOString())+"&format=json"}},[n("b-button",{staticStyle:{"margin-left":"3px"},attrs:{variant:"outline-danger"}},[t._v(" "+t._s(t.getLastDagRunOfDag(e.dag_id).state)+" ")])],1):t._e()],1):n("b-td",[n("span")]),n("b-td",[n("b-button",{staticStyle:{"margin-right":"3px"},attrs:{disabled:"",pill:"",variant:"outline-success"}},[t._v(" "+t._s(t.countSuccesfulDagRuns(e.dag_id))+" ")]),n("b-button",{staticStyle:{"margin-left":"3px"},attrs:{disabled:"",pill:"",variant:"outline-danger"}},[t._v(" "+t._s(t.countFailedDagRuns(e.dag_id))+" ")])],1)],1)})),1)],1)],1)},f=[],g=(n("4de4"),n("b64b"),{components:{},mounted:function(){this.fetchDags(),this.fetchDagRuns()},data:function(){return{serviceDags:[],nonServiceDags:[],dags:[],dagRuns:[]}},methods:{fetchDags:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("getdags.json");case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,t.dags=a,t.filterAfterServiceDags(),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()},fetchDagRuns:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("getdagruns.json");case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,t.dagRuns=a,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},countSuccesfulDagRuns:function(t){var e=[];return e=this.dagRuns.filter((function(e){return e.dag_id===t&&"success"===e.state})),e.length},countFailedDagRuns:function(t){var e=[];return e=this.dagRuns.filter((function(e){return e.dag_id===t&&"failed"===e.state})),e.length},filterAfterServiceDags:function(){var t,e=Object.keys(this.dags);for(t=0;t<e.length;t++)"service"===e[t].substring(0,7)?this.serviceDags.push(this.dags[e[t]]):this.nonServiceDags.push(this.dags[[e[t]]])},getLastDagRunOfDag:function(t){var e,n=[];return console.log(t),n=this.dagRuns.filter((function(e){return e.dag_id===t})),n?(e=n[n.length-1],console.log(e)):(e="No match",console.log(e)),e}}}),p=g,b=n("2877"),h=Object(b["a"])(p,d,f,!1,null,"c70550ce",null),v=h.exports,_=a["default"].extend({name:"Home",components:{dataTable:v},mounted:function(){this.fetchData()},data:function(){return{jobs:[],currentPage:1,rows:1,perPage:3,displayJobs:[]}},methods:{fetchData:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("jobs.json");case 2:return n=e.sent,e.next=5,n.json();case 5:a=e.sent,t.jobs=a,t.displayJobs=a.slice(0,3),t.rows=t.jobs.length,console.log(a);case 10:case"end":return e.stop()}}),e)})))()},paginate:function(t){var e=(t-1)*this.perPage;this.displayJobs=this.jobs.slice(e,e+3)}}}),m=_,D=Object(b["a"])(m,u,c,!1,null,"5b914e8c",null),x=D.exports,y=a["default"].extend({name:"App",components:{Home:x},data:function(){return{}}}),w=y,R=Object(b["a"])(w,i,o,!1,null,null,null),j=R.exports,O=n("8c4f"),k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",[n("b-row",{attrs:{"align-v":"center"}},[n("div",[n("b-table-simple",{staticClass:"table table-dark"},[n("b-thead",[n("b-th",[t._v("State")]),n("b-th",[t._v("Dag_Id")]),n("b-th",[t._v("Execution Date")]),n("b-th",[t._v("Run ID")]),n("b-th",[t._v("External Trigger")])],1),n("b-thead",t._l(t.filteredDagRuns,(function(e){return n("b-tr",{key:e.dag_id},["failed"===e.state?n("td",[n("b-button",{attrs:{disabled:"",variant:"outline-danger"}},[t._v(t._s(e.state))])],1):"success"===e.state?n("td",[n("b-button",{attrs:{disabled:"",variant:"outline-success"}},[t._v(t._s(e.state))])],1):n("td"),n("td",[t._v(t._s(e.dag_id))]),n("td",[t._v(t._s(e.execution_time))]),n("td",[t._v(t._s(e.run_id))]),n("td",[t._v("True")])])})),1)],1)],1)]),n("b-row",{attrs:{"align-v":"center"}},[n("b-pagination",{staticClass:"mt-4",attrs:{"total-rows":t.rows,"per-page":t.perPage},on:{input:function(e){return t.paginate(t.currentPage)}},scopedSlots:t._u([{key:"first-text",fn:function(){return[n("span",{staticClass:"text-success"},[t._v("First")])]},proxy:!0},{key:"prev-text",fn:function(){return[n("span",{staticClass:"text-danger"},[t._v("Prev")])]},proxy:!0},{key:"next-text",fn:function(){return[n("span",{staticClass:"text-warning"},[t._v("Next")])]},proxy:!0},{key:"last-text",fn:function(){return[n("span",{staticClass:"text-info"},[t._v("Last")])]},proxy:!0},{key:"ellipsis-text",fn:function(){return[n("b-spinner",{attrs:{small:"",type:"grow"}}),n("b-spinner",{attrs:{small:"",type:"grow"}}),n("b-spinner",{attrs:{small:"",type:"grow"}})]},proxy:!0},{key:"page",fn:function(e){var a=e.page,r=e.active;return[n(r?"b":"i",[t._v(t._s(a))])]}}]),model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)},S=[],P=a["default"].extend({name:"LastRun",components:{},mounted:function(){this.filterDagRunsAfterDagId()},data:function(){return{filteredDagRuns:[],currentPage:1,rows:1,perPage:3,displayDagRuns:[]}},props:["dagRuns","state","dagId"],methods:{filterDagRunsAfterDagId:function(){var t=this;return this.filteredDagRuns=this.dagRuns.filter((function(e){return e.state===t.state&&e.dag_id===t.dagId})),this.filterDagRunsAfterDagId},paginate:function(t){var e=(t-1)*this.perPage;this.displayDagRuns=this.filteredDagRuns.slice(e,e+3)}}}),L=P,I=Object(b["a"])(L,k,S,!1,null,"39485a07",null),T=I.exports;a["default"].use(O["a"]);var A=[{path:"/",name:"Home",component:x},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}},{path:"/dags/last_runs",name:"LastRuns",component:T,props:!0}],E=new O["a"]({mode:"history",base:"/",routes:A}),C=E,H=n("2f62");a["default"].use(H["a"]);var J=new H["a"].Store({state:{},mutations:{},actions:{},modules:{}}),$=n("f309");a["default"].use($["a"]);var M=new $["a"]({});a["default"].use(r["a"]),a["default"].use(s["a"]),a["default"].config.productionTip=!1,new a["default"]({router:C,store:J,vuetify:M,render:function(t){return t(j)}}).$mount("#app")}});
//# sourceMappingURL=app.b3b7d5c7.js.map